<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate QR Codes</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator/qrcode.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .qr-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }
        .qr-item {
            text-align: center;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .qr-item img {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <h1>Generate QR Codes</h1>
    <div class="qr-container" id="qrContainer"></div>

    <script>
        // Data dari data_master.csv
        const data = [
            {nomor: '100', nama: 'Andi Setiawan sarjono'},
            {nomor: '101', nama: 'Budi Santoso wiro sableng'},
            {nomor: '102', nama: 'Citra Dewi'},
            {nomor: '103', nama: 'Dewi Lestari'},
            {nomor: '104', nama: 'Eko Prabowo'},
            {nomor: '105', nama: 'Fajar Nugraha'},
            {nomor: '106', nama: 'Gita Sari'},
            {nomor: '107', nama: 'Hariyanto'},
            {nomor: '108', nama: 'Ika Permatasari'},
            {nomor: '109', nama: 'Joko Widodo'},
            {nomor: '110', nama: 'Kirana Ayu'},
            {nomor: '111', nama: 'Lina Marlina'},
            {nomor: '112', nama: 'Muhammad Rizky'},
            {nomor: '113', nama: 'Nina Sari'},
            {nomor: '114', nama: 'Oka Prasetyo'},
            {nomor: '115', nama: 'Putu Wira'},
            {nomor: '116', nama: 'Qori Aulia'},
            {nomor: '117', nama: 'Rina Handayani'},
            {nomor: '118', nama: 'Siti Nurhaliza'},
            {nomor: '119', nama: 'Tariq Hidayat'},
            {nomor: '120', nama: 'Umar Faruq'}
        ];

        const baseUrl = 'http://103.175.219.151:3000/hadiah.html?nomor=';
        const qrContainer = document.getElementById('qrContainer');

        data.forEach(item => {
            // Buat URL dengan format yang diminta
            const namaDenganUnderscore = item.nama.replace(/\s+/g, '_');
            const url = `${baseUrl}${item.nomor}#${namaDenganUnderscore}`;
            
            // Generate QR Code
            const qr = qrcode(0, 'L');
            qr.addData(url);
            qr.make();
            
            // Buat elemen untuk menampilkan QR code
            const qrItem = document.createElement('div');
            qrItem.className = 'qr-item';
            
            const qrImg = document.createElement('img');
            qrImg.src = qr.createDataURL(4);
            qrImg.alt = `QR Code for ${item.nomor} - ${item.nama}`;
            
            const caption = document.createElement('div');
            caption.textContent = `${item.nomor} - ${item.nama}`;
            
            qrItem.appendChild(qrImg);
            qrItem.appendChild(caption);
            qrContainer.appendChild(qrItem);
        });
    </script>
</body>
</html>
